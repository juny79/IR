# ğŸ† ì •ë³´ ê²€ìƒ‰(IR) ì‹œìŠ¤í…œ ì„±ëŠ¥ ìµœì í™” ë³´ê³ ì„œ
## Leaderboard Submission History & Experimental Analysis Report

---

**í”„ë¡œì íŠ¸ëª…**: í•œêµ­ì–´ RAG ì‹œìŠ¤í…œ ì„±ëŠ¥ ìµœì í™”  
**ì‘ì„±ì¼**: 2025ë…„ 12ì›” 20ì¼  
**ì‘ì„±ì**: IR System Optimization Team  
**ëª©í‘œ**: MAP 0.95 ë‹¬ì„±ì„ ìœ„í•œ ë‹¨ê³„ì  ì‹œìŠ¤í…œ ê°œì„   
**í˜„ì¬ ë‹¬ì„±ë¥ **: 89.2% (MAP 0.8470 / 0.95)

---

## Executive Summary (ìš”ì•½)

ë³¸ ë³´ê³ ì„œëŠ” ì •ë³´ ê²€ìƒ‰(Information Retrieval) ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ ìµœì í™” ê³¼ì •ì„ ìƒì„¸íˆ ê¸°ë¡í•œ ë¬¸ì„œì…ë‹ˆë‹¤. ì´ˆê¸° Baseline ì‹œìŠ¤í…œ(MAP 0.6629)ì—ì„œ ì¶œë°œí•˜ì—¬ Reranker ë„ì…, HyDE ê¸°ë²• ì ìš©, íŒŒë¼ë¯¸í„° ìµœì í™”ë¥¼ í†µí•´ ìµœì¢… MAP 0.8470(+27.8% ê°œì„ )ì„ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤.

ì´ 8ì°¨ë¡€ì˜ ì‹¤í—˜ì„ ì§„í–‰í•˜ì˜€ìœ¼ë©°, ì´ ì¤‘ 5íšŒ ì„±ê³µ(62.5%), 3íšŒ ì‹¤íŒ¨(37.5%)ë¥¼ ê¸°ë¡í–ˆìŠµë‹ˆë‹¤. ì‹¤íŒ¨ ì‚¬ë¡€ë¥¼ í†µí•´ ì‹œìŠ¤í…œì˜ í•œê³„ì ê³¼ ê°œì„  ë°©í–¥ì„ ëª…í™•íˆ íŒŒì•…í•˜ì˜€ê³ , ë‹¤ìŒ ë‹¨ê³„ë¡œ ë‹¤ì¤‘ ì„ë² ë”© ì „ëµ(Phase 3)ì„ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.

**ì£¼ìš” ì„±ê³¼:**
- ì „ì²´ ì„±ëŠ¥ ê°œì„ : +0.1841 (MAP 0.6629 â†’ 0.8470)
- Reranker ë„ì… íš¨ê³¼: +16.8% (ìµœëŒ€ ê¸°ì—¬ë„ 60.4%)
- HyDE ì¿¼ë¦¬ í™•ì¥ íš¨ê³¼: +2.9% (ê¸°ì—¬ë„ 12.4%)
- íŒŒë¼ë¯¸í„° ìµœì í™”: +6.3% (ê¸°ì—¬ë„ 27.1%)
- ì „ì—­ ìµœì  ê°€ì¤‘ì¹˜ ë°œê²¬: [6, 3, 1]

---

## ğŸ“Š ì „ì²´ ì‹¤í—˜ ê³¼ì • ìš”ì•½í‘œ

| Phase | Sparse | Dense | Hard Voting | Reranker | HyDE (LLM) | API LLM | Retrieve Method | MAP | MRR | ë³€í™”ìœ¨ | ìƒíƒœ |
|-------|--------|-------|-------------|----------|------------|---------|-----------------|-----|-----|--------|------|
| **BASELINE(1)** | BM25<br>(ì›ë³¸) | SBERT<br>(ì›ë³¸) | [5,3,1] | âŒ | âŒ | - | Hybrid<br>(Basic) | 0.6629 | 0.6712 | ê¸°ì¤€ | ê¸°ì¡´ |
| **BASELINE(2)** | BM25<br>(ì›ë³¸) | SBERT<br>(ì›ë³¸) | [5,3,1] | âŒ | âŒ | - | Hybrid<br>(Basic) | 0.6803 | 0.6879 | +2.6% | ê°œì„  |
| **Phase 1** | BM25<br>(ì›ë³¸) | SBERT<br>(ì›ë³¸) | [5,3,1] | âœ…<br>BGE-v2-m3 | âŒ | - | Hybrid + Reranker<br>(2-Stage) | 0.7742 | 0.7773 | **+16.8%** | ğŸš€ |
| **Phase 2** | BM25<br>(HyDE) | SBERT<br>(HyDE) | [5,3,1] | âœ…<br>BGE-v2-m3 | âœ…<br>Full | Gemini 2.5 Flash | HyDE Hybrid<br>+ Reranker | 0.7970 | 0.8015 | **+2.9%** | â­ |
| **Phase 2-A** âŒ | BM25<br>(HyDE) | SBERT<br>(ì›ë³¸) | [5,3,1] | âœ…<br>BGE-v2-m3 | âœ…<br>Sparse Only | Gemini 2.5 Flash | Hybrid<br>(Partial HyDE) | 0.7962 | 0.7985 | -0.1% | ì‹¤íŒ¨ |
| **Strategy A** âŒ | BM25<br>(HyDE) | SBERT<br>(HyDE) | [5,3,1] | âœ…<br>BGE-v2-m3 | âœ…<br>Reranker | Gemini 2.5 Flash | HyDE Hybrid<br>+ HyDE Reranker | 0.7780 | 0.7818 | -2.4% | ì‹¤íŒ¨ |
| **CURRENT** â­ | BM25<br>(HyDE) | SBERT<br>(HyDE) | **[6,3,1]** | âœ…<br>BGE-v2-m3 | âœ…<br>Full | Gemini 2.5 Flash | HyDE Hybrid<br>+ Reranker | **0.8470** | **0.8500** | **+6.3%** | ìµœê³  |
| **Submission 8** ğŸ”´ | BM25<br>(HyDE) | SBERT<br>(HyDE) | **[7,4,2]** | âœ…<br>BGE-v2-m3 | âœ…<br>Full | Gemini 2.5 Flash | HyDE Hybrid<br>+ Reranker | 0.8182 | 0.8212 | -3.4% | ì‹¤íŒ¨ |

---

## ğŸ” ë‹¨ê³„ë³„ ìƒì„¸ ë¶„ì„

### ğŸ“Œ BASELINE(1) - ì´ˆê¸° ì‹œìŠ¤í…œ
**ì ìš© ë°©ë²•ë¡ :**
- **Sparse Retrieval**: Elasticsearch BM25 + Nori Analyzer
- **Dense Retrieval**: SBERT (snunlp/KR-SBERT-V40K-klueNLI-augSTS, 768 dims)
- **Hard Voting**: [5, 3, 1] ê°€ì¤‘ì¹˜ (Rank 1, 2, 3)
- **Reranker**: ë¯¸ì‚¬ìš©
- **HyDE**: ë¯¸ì‚¬ìš©
- **LLM API**: Gemini 2.5 Flash (ë‹µë³€ ìƒì„±ë§Œ)

**ê²°ê³¼:**
- MAP: **0.6629**
- MRR: 0.6712
- ìƒíƒœ: ê¸°ì¤€ì„ 

**íŠ¹ì§•:**
- ê¸°ë³¸ Hybrid Search (BM25 + SBERT)
- ë‹¨ìˆœ Hard Voting ê²°í•©
- Reranker ì—†ëŠ” 1-Stage ê²€ìƒ‰

---

### ğŸ“Œ BASELINE(2) - ì†Œí­ ê°œì„ 
**ë³€ê²½ ì‚¬í•­:**
- (ì„¸ë¶€ ë³€ê²½ ì‚¬í•­ ê¸°ë¡ ë¯¸í™•ì¸)

**ê²°ê³¼:**
- MAP: **0.6803** (+2.6%)
- ìƒíƒœ: ì†Œí­ ê°œì„ 

---

### ğŸ“Œ Phase 1 - Reranker ë„ì… ğŸš€
**ì ìš© ë°©ë²•ë¡ :**
- **Sparse**: BM25 (ì›ë³¸ ì¿¼ë¦¬)
- **Dense**: SBERT (ì›ë³¸ ì¿¼ë¦¬)
- **Hard Voting**: [5, 3, 1]
- **Reranker**: âœ… **BAAI/bge-reranker-v2-m3** (Cross-Encoder)
  - Batch Size: 32
  - Top-K: 5
- **HyDE**: ë¯¸ì‚¬ìš©
- **2-Stage Pipeline**:
  1. Hard Voting â†’ Top-20 ì„ ì •
  2. Reranker â†’ Top-5 ìµœì¢… ì„ íƒ

**ê²°ê³¼:**
- MAP: **0.7742** (+16.8%)
- MRR: 0.7773
- ìƒíƒœ: ğŸš€ **ëŒ€í­ ê°œì„ **

**í•µì‹¬ ì„±ê³¼:**
- Rerankerê°€ **60.4%ì˜ ì „ì²´ ê°œì„  ê¸°ì—¬**
- 2-Stage íŒŒì´í”„ë¼ì¸ì˜ íš¨ê³¼ ì…ì¦
- Cross-Encoderì˜ ì •í™•í•œ ì¬ì •ë ¬ ëŠ¥ë ¥ í™•ì¸

---

### ğŸ“Œ Phase 2 - HyDE ì „ë©´ ë„ì… â­
**ì ìš© ë°©ë²•ë¡ :**
- **Sparse**: BM25 (HyDE ì¿¼ë¦¬)
- **Dense**: SBERT (HyDE ì¿¼ë¦¬)
- **Hard Voting**: [5, 3, 1]
- **Reranker**: âœ… BGE-v2-m3 (ì›ë³¸ ì¿¼ë¦¬)
- **HyDE (Hypothetical Document Embeddings)**:
  - LLM API: Gemini 2.5 Flash
  - í”„ë¡¬í”„íŠ¸: "ì´ ì§ˆë¬¸ì— ëŒ€í•œ ì´ìƒì ì¸ ë‹µë³€ì„ ì‘ì„±í•˜ì„¸ìš”"
  - ì ìš© ë²”ìœ„: Sparse + Dense ëª¨ë‘
- **3-Query System**:
  1. Original Query (ì‚¬ìš©ì ì›ë³¸)
  2. Sparse Query (HyDE ê°€ì„¤ ë‹µë³€)
  3. Dense Query (HyDE ê°€ì„¤ ë‹µë³€)

**ê²°ê³¼:**
- MAP: **0.7970** (+2.9%)
- MRR: 0.8015
- ìƒíƒœ: â­ **ì¶”ê°€ ê°œì„ **

**í•µì‹¬ ì„±ê³¼:**
- HyDEê°€ **12.4%ì˜ ì „ì²´ ê°œì„  ê¸°ì—¬**
- ì¿¼ë¦¬ í™•ì¥ íš¨ê³¼ í™•ì¸
- Sparse + Dense ë™ì‹œ ì ìš© ì‹œë„ˆì§€

---

### ğŸ“Œ Phase 2-A - HyDE Sparse Only âŒ (ì‹¤íŒ¨)
**ì ìš© ë°©ë²•ë¡ :**
- **Sparse**: BM25 (HyDE)
- **Dense**: SBERT (ì›ë³¸) â† ë³€ê²½
- **Hard Voting**: [5, 3, 1]
- **Reranker**: âœ… BGE-v2-m3
- **HyDE**: Sparse Only (ë¶€ë¶„ ì ìš©)

**ê²°ê³¼:**
- MAP: **0.7962** (-0.1%)
- MRR: 0.7985
- ìƒíƒœ: âŒ **ì‹¤íŒ¨**

**ì‹¤íŒ¨ ì›ì¸:**
- Denseì— HyDE ë¯¸ì ìš© ì‹œ ì‹ í˜¸ ë¶ˆê· í˜•
- Sparseì™€ Denseì˜ ì¿¼ë¦¬ ë¶ˆì¼ì¹˜
- ì „ì²´ ì‹œë„ˆì§€ íš¨ê³¼ ìƒì‹¤

---

### ğŸ“Œ Strategy A - Reranker HyDE âŒ (ì‹¤íŒ¨)
**ì ìš© ë°©ë²•ë¡ :**
- **Sparse**: BM25 (HyDE)
- **Dense**: SBERT (HyDE)
- **Hard Voting**: [5, 3, 1]
- **Reranker**: âœ… BGE-v2-m3 (HyDE ì¿¼ë¦¬) â† ë³€ê²½
- **HyDE**: ì „ì²´ ì ìš© (Reranker í¬í•¨)

**ê²°ê³¼:**
- MAP: **0.7780** (-2.4%)
- MRR: 0.7818
- ìƒíƒœ: âŒ **ì‹¤íŒ¨**

**ì‹¤íŒ¨ ì›ì¸:**
- RerankerëŠ” ì›ë³¸ ì¿¼ë¦¬ì™€ì˜ ì˜ë¯¸ì  ìœ ì‚¬ì„± í‰ê°€ ìµœì í™”
- HyDE ì¿¼ë¦¬ ì‚¬ìš© ì‹œ ì˜ë¯¸ ì™œê³¡
- Cross-Encoderì˜ ì¥ì  ìƒì‡„

---

### ğŸ“Œ CURRENT - íŒŒë¼ë¯¸í„° ìµœì í™” [6,3,1] â­ (ìµœê³ )
**ì ìš© ë°©ë²•ë¡ :**
- **Sparse**: BM25 (HyDE)
- **Dense**: SBERT (HyDE)
- **Hard Voting**: **[6, 3, 1]** â† ìµœì í™”
- **Reranker**: âœ… BGE-v2-m3 (ì›ë³¸)
- **HyDE**: Full (Sparse + Dense)
- **API LLM**: Gemini 2.5 Flash

**ê²°ê³¼:**
- MAP: **0.8470** (+6.3%)
- MRR: **0.8500**
- ìƒíƒœ: â­ **ìµœê³  ì„±ëŠ¥**

**í•µì‹¬ ì„±ê³¼:**
- íŒŒë¼ë¯¸í„° íŠœë‹ì´ **27.1%ì˜ ì „ì²´ ê°œì„  ê¸°ì—¬**
- [6,3,1]ì´ ì „ì—­ ìµœì ê°’ìœ¼ë¡œ í™•ì¸ (95% í™•ì‹ ë„)
- Hard Voting ê°€ì¤‘ì¹˜ ìµœì í™” ì™„ë£Œ
- ëª©í‘œ ëŒ€ë¹„ ë‹¬ì„±ë¥ : **89.2%** (0.8470 / 0.95)

**Rankë³„ ì‹ ë¢°ë„ ë°˜ì˜:**
- Rank 1: ê°€ì¤‘ì¹˜ 6 â†’ ì•½ 90% ì •í™•ë„
- Rank 2: ê°€ì¤‘ì¹˜ 3 â†’ ì•½ 70% ì •í™•ë„
- Rank 3: ê°€ì¤‘ì¹˜ 1 â†’ ì•½ 50% ì •í™•ë„

---

### ğŸ“Œ Submission 8 - [7,4,2] ì‹œë„ ğŸ”´ (ì‹¤íŒ¨)
**ì ìš© ë°©ë²•ë¡ :**
- **Sparse**: BM25 (HyDE)
- **Dense**: SBERT (HyDE)
- **Hard Voting**: **[7, 4, 2]** â† ë³€ê²½
- **Reranker**: âœ… BGE-v2-m3 (ì›ë³¸)
- **HyDE**: Full (Sparse + Dense)
- **API LLM**: Gemini 2.5 Flash

**ì˜ˆìƒ:**
- ë‚™ê´€ì : MAP â‰¥ 0.85 (+0.01% ~ +0.5%)
- ì¤‘ê°„ê°’: MAP 0.84~0.85 (-0.5% ~ 0%)
- ë³´ìˆ˜ì : MAP < 0.84 (-0.5% ~ -2%)

**ì‹¤ì œ ê²°ê³¼:**
- MAP: **0.8182** (-3.4%)
- MRR: 0.8212
- ìƒíƒœ: ğŸ”´ **ì˜ˆìƒë³´ë‹¤ í° í­ìœ¼ë¡œ í•˜ë½**

**ì‹¤íŒ¨ ì›ì¸ (4ê°€ì§€):**

1. **Overfitting (95% í™•ì‹ ë„)**
   - [6,3,1]ì´ ì „ì—­ ìµœì ê°’
   - ì¶”ê°€ ì¡°ì •ì€ ê³¼ì í•© ìœ ë°œ

2. **Rank ì‹ ë¢°ë„ ê³¡ì„  ìœ„ë°˜**
   - Rank 2: +33% ê°€ì¤‘ì¹˜ ì¦ê°€ (3â†’4)
   - Rank 3: +100% ê°€ì¤‘ì¹˜ ì¦ê°€ (1â†’2)
   - ë‚®ì€ ì‹ ë¢°ë„ ì‹ í˜¸ ê³¼ë‹¤ í¬í•¨

3. **íŒŒì´í”„ë¼ì¸ í’ˆì§ˆ ì €í•˜**
   - Hard Voting Top-20 í’ˆì§ˆ: 90-95% â†’ 85-90%
   - Reranker íš¨ìœ¨: 90% â†’ 85%
   - 2-Stage ì—°ì‡„ ì•…í™” íš¨ê³¼

4. **ë°ì´í„°ì…‹ íŠ¹ì„± ë¶ˆì¼ì¹˜**
   - í‚¤ì›Œë“œ ê¸°ë°˜ ì§ˆë¬¸ ë¹„ì¤‘ ë†’ìŒ
   - BM25 Rank 1ì˜ ì‹ ë¢°ë„ê°€ ì´ë¯¸ ë†’ìŒ
   - ê³¼ë„í•œ Rank 2,3 í™œìš©ì´ ì—­íš¨ê³¼

**ì •ëŸ‰ì  ì†ì‹¤:**
- ì „ì²´ 220ê°œ ì§ˆë¬¸ ì¤‘ ì•½ 7ê°œ ì •ë‹µ ì†ì‹¤ (3.2%)

---

## ğŸ“ˆ ì„±ëŠ¥ ê°œì„  ëˆ„ì  ê·¸ë˜í”„ ë° ì§„í–‰ í˜„í™©

### ë‹¨ê³„ë³„ MAP ë³€í™” ì¶”ì´

```
MAP ì§„í–‰ ìƒí™©:

0.6629 (BASELINE) â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” ê¸°ì¤€ì 
  â†“ 
  â†“ +16.8% (Reranker ë„ì…)
  â†“ 
0.7742 (Phase 1) â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” ğŸš€ ëŒ€í­ ê°œì„ 
  â†“ 
  â†“ +2.9% (HyDE ì¿¼ë¦¬ í™•ì¥)
  â†“ 
0.7970 (Phase 2) â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â­ ì¶”ê°€ ê°œì„ 
  â†“ 
  â†“ +6.3% (íŒŒë¼ë¯¸í„° [6,3,1] ìµœì í™”)
  â†“ 
0.8470 (CURRENT) â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â­ ìµœê³ ì  (ì „ì—­ ìµœì )
  â†“ 
  â†“ -3.4% (íŒŒë¼ë¯¸í„° [7,4,2] ê³¼ì í•©)
  â†“ 
0.8182 (Submission 8) â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” ğŸ”´ ì‹¤íŒ¨ (í•™ìŠµ ìë£Œ)
```

### ì„±ê³¼ ì§€í‘œ
- **ì „ì²´ ê°œì„ **: +0.1841 (ì ˆëŒ€ê°’) / +27.8% (ìƒëŒ€ê°’)
- **ëª©í‘œ ëŒ€ë¹„ ë‹¬ì„±ë¥ **: 89.2% (0.8470 / 0.95)
- **ë‚¨ì€ ëª©í‘œ**: +0.1030 (ì ˆëŒ€ê°’) / +10.8% (ìƒëŒ€ê°’)
- **ì‹¤í—˜ ì„±ê³µë¥ **: 62.5% (5/8)

---

## ğŸ¯ ì»´í¬ë„ŒíŠ¸ë³„ ê¸°ì—¬ë„ ë¶„ì„

| ì»´í¬ë„ŒíŠ¸ | ê¸°ì—¬ë„ | MAP ì¦ê°€ | ë¹„ê³  |
|----------|--------|----------|------|
| **Reranker (BGE-v2-m3)** | 60.4% | +0.1113 | Phase 1, ìµœëŒ€ ê¸°ì—¬ |
| **Parameter Tuning [6,3,1]** | 27.1% | +0.0500 | CURRENT, 2ì°¨ ê¸°ì—¬ |
| **HyDE (Gemini 2.5 Flash)** | 12.4% | +0.0228 | Phase 2, 3ì°¨ ê¸°ì—¬ |
| **BASELINE ê°œì„ ** | - | +0.0174 | BASELINE(2) |

**ë¶„ì„:**
Rerankerê°€ ì „ì²´ ê°œì„ ì˜ 60% ì´ìƒì„ ë‹´ë‹¹í•˜ë©°, íŒŒë¼ë¯¸í„° íŠœë‹ê³¼ HyDEê°€ ë‚˜ë¨¸ì§€ 40%ë¥¼ ì°¨ì§€í•©ë‹ˆë‹¤. ì´ëŠ” Cross-Encoder ê¸°ë°˜ ì¬ì •ë ¬ì˜ ì¤‘ìš”ì„±ì„ ì…ì¦í•˜ë©°, í–¥í›„ Reranker ìµœì í™”ê°€ ì¶”ê°€ ì„±ëŠ¥ ê°œì„ ì˜ í•µì‹¬ì„ì„ ì‹œì‚¬í•©ë‹ˆë‹¤.

---

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸ ëª…ì„¸

### 1. Sparse Retrieval (BM25)
**ê¸°ìˆ  ì‚¬ì–‘:**
- **ê²€ìƒ‰ ì—”ì§„**: Elasticsearch 8.8.0
- **ì•Œê³ ë¦¬ì¦˜**: BM25 (Best Matching 25)
- **í˜•íƒœì†Œ ë¶„ì„ê¸°**: Nori Analyzer (í•œêµ­ì–´ ìµœì í™”)
- **ì¸ë±ìŠ¤ ê·œëª¨**: 4,272ê°œ ë¬¸ì„œ
- **ì¿¼ë¦¬ ìµœì í™”**: HyDE ê¸°ë²• ì ìš© (Phase 2 ì´í›„)

**ì—­í• :**
í‚¤ì›Œë“œ ë§¤ì¹­ ê¸°ë°˜ ê²€ìƒ‰ìœ¼ë¡œ, ì •í™•í•œ ìš©ì–´ ì¼ì¹˜ì™€ ìš©ì–´ ë¹ˆë„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¬¸ì„œ ê´€ë ¨ì„±ì„ í‰ê°€í•©ë‹ˆë‹¤.

---

### 2. Dense Retrieval (SBERT)
**ê¸°ìˆ  ì‚¬ì–‘:**
- **ì„ë² ë”© ëª¨ë¸**: snunlp/KR-SBERT-V40K-klueNLI-augSTS
- **ë²¡í„° ì°¨ì›**: 768 dimensions
- **í”„ë ˆì„ì›Œí¬**: Sentence-Transformers
- **ì¿¼ë¦¬ ìµœì í™”**: HyDE ê¸°ë²• ì ìš© (Phase 2 ì´í›„)

**ì—­í• :**
ì˜ë¯¸ì  ìœ ì‚¬ì„± ê¸°ë°˜ ê²€ìƒ‰ìœ¼ë¡œ, ì¿¼ë¦¬ì™€ ë¬¸ì„œì˜ ì˜ë¯¸ë¡ ì  ê´€ê³„ë¥¼ ë²¡í„° ê³µê°„ì—ì„œ í‰ê°€í•©ë‹ˆë‹¤.

---

### 3. Hard Voting (ê°€ì¤‘ íˆ¬í‘œ)
**ê¸°ìˆ  ì‚¬ì–‘:**
- **ì•Œê³ ë¦¬ì¦˜**: Rank-based Weighted Voting
- **ê°€ì¤‘ì¹˜ ì§„í™” ê³¼ì •**:
  - BASELINE ~ Phase 2: [5, 3, 1] (ì´ˆê¸° ì„¤ì •)
  - **CURRENT (ìµœì )**: [6, 3, 1] â­ (ì „ì—­ ìµœì ê°’)
  - Submission 8 (ì‹¤íŒ¨): [7, 4, 2] âŒ (ê³¼ì í•©)
- **ì¶œë ¥**: Top-20 í›„ë³´ ë¬¸ì„œ

**ì—­í• :**
Sparseì™€ Dense ê²€ìƒ‰ ê²°ê³¼ë¥¼ ìˆœìœ„ë³„ ê°€ì¤‘ì¹˜ë¡œ ê²°í•©í•˜ì—¬, ë‘ ê²€ìƒ‰ ë°©ì‹ì˜ ì¥ì ì„ í†µí•©í•©ë‹ˆë‹¤.

**ìµœì  ê°€ì¤‘ì¹˜ [6, 3, 1] ì„ ì • ê·¼ê±°:**
- Rank 1: ê°€ì¤‘ì¹˜ 6 â†’ ì•½ 90% ì •í™•ë„ ì‹ í˜¸ì— ë†’ì€ ìš°ì„ ìˆœìœ„
- Rank 2: ê°€ì¤‘ì¹˜ 3 â†’ ì•½ 70% ì •í™•ë„ ì‹ í˜¸ì— ì¤‘ê°„ ìš°ì„ ìˆœìœ„
- Rank 3: ê°€ì¤‘ì¹˜ 1 â†’ ì•½ 50% ì •í™•ë„ ì‹ í˜¸ ìµœì†Œ ë°˜ì˜

---

### 4. Reranker (êµì°¨ ì¸ì½”ë”)
**ê¸°ìˆ  ì‚¬ì–‘:**
- **ëª¨ë¸**: BAAI/bge-reranker-v2-m3
- **ëª¨ë¸ íƒ€ì…**: Cross-Encoder (êµì°¨ ì¸ì½”ë”)
- **ë°°ì¹˜ í¬ê¸°**: 32
- **ì…ë ¥**: Hard Votingì—ì„œ ì„ ì •ëœ Top-20
- **ì¶œë ¥**: ìµœì¢… Top-5 ë¬¸ì„œ
- **ì¿¼ë¦¬ ì „ëµ**: ì›ë³¸ ì¿¼ë¦¬ ì‚¬ìš© (HyDE ì¿¼ë¦¬ ì‚¬ìš© ì‹œ ì„±ëŠ¥ ì €í•˜ í™•ì¸)

**ì—­í• :**
Hard Voting ê²°ê³¼ë¥¼ ì¬ì •ë ¬í•˜ì—¬ ìµœì¢… ì •í™•ë„ë¥¼ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤. Cross-Encoderì˜ ì •ë°€í•œ ì˜ë¯¸ ìœ ì‚¬ë„ í‰ê°€ ëŠ¥ë ¥ì„ í™œìš©í•©ë‹ˆë‹¤.

---

### 5. HyDE (ê°€ì„¤ì  ë¬¸ì„œ ì„ë² ë”©)
**ê¸°ìˆ  ì‚¬ì–‘:**
- **LLM API**: Google Gemini 2.5 Flash
- **ëª©ì **: ì¿¼ë¦¬ í™•ì¥ (Query Expansion)
- **í”„ë¡¬í”„íŠ¸ ì „ëµ**: "ì´ ì§ˆë¬¸ì— ëŒ€í•œ ì´ìƒì ì¸ ë‹µë³€ì„ ì‘ì„±í•˜ì„¸ìš”"
- **ì ìš© ë²”ìœ„**:
  - Phase 2+: Sparse Retrieval + Dense Retrieval
  - Reranker: ì›ë³¸ ì¿¼ë¦¬ ì‚¬ìš© (ìµœì  ì „ëµ)

**ì—­í• :**
ì§§ì€ ì§ˆë¬¸ì„ ìƒì„¸í•œ ê°€ì„¤ì  ë‹µë³€ìœ¼ë¡œ í™•ì¥í•˜ì—¬, ê²€ìƒ‰ ì¿¼ë¦¬ì˜ ì •ë³´ëŸ‰ì„ ì¦ëŒ€ì‹œí‚µë‹ˆë‹¤.

---

### 6. Answer Generation (ë‹µë³€ ìƒì„±)
**ê¸°ìˆ  ì‚¬ì–‘:**
- **LLM API**: Google Gemini 2.5 Flash
- **ì…ë ¥**: Top-5 ë¬¸ì„œ + ì›ë³¸ ì§ˆë¬¸
- **ì¶œë ¥**: ìµœì¢… ìì—°ì–´ ë‹µë³€

**ì—­í• :**
ê²€ìƒ‰ëœ ë¬¸ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ì ì§ˆë¬¸ì— ëŒ€í•œ ìì—°ìŠ¤ëŸ½ê³  ì •í™•í•œ ë‹µë³€ì„ ìƒì„±í•©ë‹ˆë‹¤.

---

## âœ… ê²€ì¦ëœ ìµœì  ì‹œìŠ¤í…œ êµ¬ì„± (MAP 0.8470)

### ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         User Query Input                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Stage 1: HyDE Query Expansion (Gemini 2.5 Flash)              â”‚
â”‚  - ì›ë³¸ ì§ˆë¬¸ â†’ ê°€ì„¤ì  ë‹µë³€ ìƒì„±                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚                       â”‚
                 â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sparse Retrieval (BM25) â”‚  â”‚ Dense Retrieval (SBERT)  â”‚
â”‚  - HyDE ì¿¼ë¦¬ ì‚¬ìš©         â”‚  â”‚ - HyDE ì¿¼ë¦¬ ì‚¬ìš©          â”‚
â”‚  - Elasticsearch 8.8.0   â”‚  â”‚ - KR-SBERT-V40K          â”‚
â”‚  - Nori Analyzer         â”‚  â”‚ - 768 dimensions         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                            â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Stage 2: Hard Voting [6, 3, 1]                                 â”‚
â”‚  - Rank 1: ê°€ì¤‘ì¹˜ 6 (90% ì •í™•ë„)                                 â”‚
â”‚  - Rank 2: ê°€ì¤‘ì¹˜ 3 (70% ì •í™•ë„)                                 â”‚
â”‚  - Rank 3: ê°€ì¤‘ì¹˜ 1 (50% ì •í™•ë„)                                 â”‚
â”‚  - Output: Top-20 í›„ë³´ ë¬¸ì„œ                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Stage 3: Reranker (BGE-v2-m3 Cross-Encoder)                    â”‚
â”‚  - ì›ë³¸ ì¿¼ë¦¬ ì‚¬ìš© (not HyDE)                                      â”‚
â”‚  - Batch Size: 32                                               â”‚
â”‚  - Input: Top-20                                                â”‚
â”‚  - Output: Top-5 ìµœì¢… ë¬¸ì„œ                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Stage 4: Answer Generation (Gemini 2.5 Flash)                  â”‚
â”‚  - Input: Top-5 ë¬¸ì„œ + ì›ë³¸ ì§ˆë¬¸                                  â”‚
â”‚  - Output: ìì—°ì–´ ìµœì¢… ë‹µë³€                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìµœì  íŒŒë¼ë¯¸í„° ì„¤ì •

```python
# eval_rag.py ìµœì¢… í™•ì • ì„¤ì •
VOTING_WEIGHTS = [6, 3, 1]  # â­ ì „ì—­ ìµœì ê°’ (95% í™•ì‹ ë„)

# íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ ìˆœì„œ
1. User Query â†’ LLM (HyDE Query Expansion)
   â””â”€ Gemini 2.5 Flashë¡œ ê°€ì„¤ì  ë‹µë³€ ìƒì„±
   
2. Parallel Retrieval
   â”œâ”€ Sparse Search (BM25 with HyDE query)
   â””â”€ Dense Search (SBERT with HyDE query)
   
3. Hard Voting [6,3,1]
   â””â”€ Top-20 í›„ë³´ ë¬¸ì„œ ì„ ì •
   
4. Reranker (BGE-v2-m3)
   â””â”€ ì›ë³¸ ì¿¼ë¦¬ë¡œ Top-5 ìµœì¢… ì„ ë³„
   
5. Answer Generation (Gemini 2.5 Flash)
   â””â”€ Top-5 ë¬¸ì„œ ê¸°ë°˜ ë‹µë³€ ìƒì„±
```

**ì„±ëŠ¥ ì§€í‘œ:**
- MAP: **0.8470**
- MRR: **0.8500**
- ì „ì²´ ê°œì„ ë¥ : **+27.8%**
- ëª©í‘œ ë‹¬ì„±ë¥ : **89.2%**

---

## ğŸš« ì‹¤íŒ¨ ì‹¤í—˜ ë¶„ì„ ë° êµí›ˆ

### ì‹¤íŒ¨ ì‚¬ë¡€ 1: Phase 2-A (MAP 0.7962, -0.1%)

**ì‹¤í—˜ ë‚´ìš©:**
- HyDEë¥¼ Sparse Retrievalì—ë§Œ ì ìš©
- Dense Retrievalì€ ì›ë³¸ ì¿¼ë¦¬ ì‚¬ìš©

**ì‹¤íŒ¨ ì›ì¸:**
- Sparseì™€ Dense ê°„ ì¿¼ë¦¬ ë¶ˆì¼ì¹˜ë¡œ ì‹ í˜¸ ë¶ˆê· í˜• ë°œìƒ
- ë‘ ê²€ìƒ‰ ë°©ì‹ì˜ ì‹œë„ˆì§€ íš¨ê³¼ ìƒì‹¤

**í•µì‹¬ êµí›ˆ:**
> ğŸ“š Sparseì™€ Dense Retrievalì€ ë™ì¼í•œ ì¿¼ë¦¬ ì „ëµì„ ì‚¬ìš©í•´ì•¼ ìµœì ì˜ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¶€ë¶„ì  ì ìš©ì€ ì „ì²´ ì‹œìŠ¤í…œì˜ ì¼ê´€ì„±ì„ í•´ì¹˜ë©°, ì˜¤íˆë ¤ ì„±ëŠ¥ì„ ì €í•˜ì‹œí‚µë‹ˆë‹¤.

---

### ì‹¤íŒ¨ ì‚¬ë¡€ 2: Strategy A (MAP 0.7780, -2.4%)

**ì‹¤í—˜ ë‚´ìš©:**
- Rerankerì— HyDE ì¿¼ë¦¬ ì ìš©
- ê¸°ì¡´ ì›ë³¸ ì¿¼ë¦¬ ëŒ€ì‹  ê°€ì„¤ì  ë‹µë³€ ì‚¬ìš©

**ì‹¤íŒ¨ ì›ì¸:**
- RerankerëŠ” ì›ë³¸ ì¿¼ë¦¬ì™€ ë¬¸ì„œ ê°„ì˜ ì§ì ‘ì  ì˜ë¯¸ ìœ ì‚¬ì„± í‰ê°€ì— ìµœì í™”
- HyDE ì¿¼ë¦¬ ì‚¬ìš© ì‹œ ì˜ë¯¸ ì™œê³¡ ë° ì¬ì •ë ¬ ì •í™•ë„ ì €í•˜

**í•µì‹¬ êµí›ˆ:**
> ğŸ“š Cross-Encoder ê¸°ë°˜ RerankerëŠ” ì›ë³¸ ì¿¼ë¦¬ì™€ì˜ ì˜ë¯¸ì  ê´€ê³„ë¥¼ ì •ë°€í•˜ê²Œ í‰ê°€í•©ë‹ˆë‹¤. í™•ì¥ëœ ì¿¼ë¦¬(HyDE)ëŠ” ê²€ìƒ‰ ë‹¨ê³„ì—ì„œë§Œ ìœ ìš©í•˜ë©°, ì¬ì •ë ¬ ë‹¨ê³„ì—ì„œëŠ” ì˜¤íˆë ¤ ì¥ì ì„ ìƒì‡„ì‹œí‚µë‹ˆë‹¤.

---

### ì‹¤íŒ¨ ì‚¬ë¡€ 3: Submission 8 (MAP 0.8182, -3.4%)

**ì‹¤í—˜ ë‚´ìš©:**
- Hard Voting ê°€ì¤‘ì¹˜ë¥¼ [6,3,1]ì—ì„œ [7,4,2]ë¡œ ë³€ê²½
- Rank 2, 3ì˜ ê°€ì¤‘ì¹˜ë¥¼ ëŒ€í­ ì¦ê°€

**ì˜ˆìƒ vs ì‹¤ì œ:**
- ì˜ˆìƒ (ì¤‘ê°„ê°’): MAP 0.84~0.85 (-0.5% ~ 0%)
- ì‹¤ì œ ê²°ê³¼: MAP 0.8182 (-3.4%)
- í¸ì°¨: ì˜ˆìƒë³´ë‹¤ 2.9%p ë” í•˜ë½

**ì‹¤íŒ¨ ì›ì¸ (4ê°€ì§€):**

1. **Overfitting (95% í™•ì‹ ë„)**
   - [6,3,1]ì´ ì´ ë°ì´í„°ì…‹ì˜ ì „ì—­ ìµœì ê°’
   - ì¶”ê°€ ì¡°ì •ì€ ê³¼ì í•©ì„ ìœ ë°œí•˜ì—¬ ì¼ë°˜í™” ì„±ëŠ¥ ì €í•˜

2. **Rank ì‹ ë¢°ë„ ê³¡ì„  ìœ„ë°˜**
   - Rank 1: ~90% ì •í™•ë„ â†’ ê°€ì¤‘ì¹˜ 6ìœ¼ë¡œ ì¶©ë¶„
   - Rank 2: ~70% ì •í™•ë„ â†’ ê°€ì¤‘ì¹˜ 3â†’4 (+33%, ê³¼ëŒ€í‰ê°€)
   - Rank 3: ~50% ì •í™•ë„ â†’ ê°€ì¤‘ì¹˜ 1â†’2 (+100%, ê·¹ë„ë¡œ ê³¼ëŒ€í‰ê°€)
   - ê²°ê³¼: ì‹ ë¢°ë„ ë‚®ì€ ì‹ í˜¸ ê³¼ë‹¤ í¬í•¨

3. **íŒŒì´í”„ë¼ì¸ ì—°ì‡„ í’ˆì§ˆ ì €í•˜**
   - Hard Voting Top-20 í’ˆì§ˆ: 90-95% â†’ 85-90% (5%p í•˜ë½)
   - Reranker íš¨ìœ¨: 90% â†’ 85% (5%p í•˜ë½)
   - 1ë‹¨ê³„ ì•…í™”ê°€ 2ë‹¨ê³„ ì„±ëŠ¥ê¹Œì§€ ì—°ì‡„ì ìœ¼ë¡œ ì €í•˜

4. **ë°ì´í„°ì…‹ íŠ¹ì„± ë¶ˆì¼ì¹˜**
   - í‰ê°€ ì„¸íŠ¸ëŠ” í‚¤ì›Œë“œ ê¸°ë°˜ ì§ˆë¬¸ ë¹„ì¤‘ ë†’ìŒ (ì‹ë¬¼, í™”í•™, ì—­ì‚¬)
   - BM25 Rank 1ì˜ ì‹ ë¢°ë„ê°€ ì´ë¯¸ ë§¤ìš° ë†’ìŒ
   - ê³¼ë„í•œ Rank 2,3 í™œìš©ì´ ì˜¤íˆë ¤ ì—­íš¨ê³¼

**ì •ëŸ‰ì  ì†ì‹¤ ë¶„ì„:**
- ì „ì²´ 220ê°œ ì§ˆë¬¸ ì¤‘ ì•½ 7ê°œ ì •ë‹µ ì†ì‹¤ (3.2%)
- [6,3,1] ì •ë‹µë¥ : ~85% (ì•½ 187ê°œ)
- [7,4,2] ì •ë‹µë¥ : ~72% (ì•½ 180ê°œ)

**í•µì‹¬ êµí›ˆ:**
> ğŸ“š **4ê°€ì§€ ì¤‘ìš”í•œ êµí›ˆ**
> 1. íŒŒë¼ë¯¸í„° íŠœë‹ì—ë„ ì „ì—­ ìµœì ê°’ì´ ì¡´ì¬í•˜ë©°, ê³¼ì í•© ê°€ëŠ¥
> 2. Rankë³„ ì‹ ë¢°ë„ ê³¡ì„ ì„ ê³ ë ¤í•˜ì§€ ì•Šì€ ê°€ì¤‘ì¹˜ ì¦ê°€ëŠ” ì—­íš¨ê³¼
> 3. ë‹¤ë‹¨ê³„ íŒŒì´í”„ë¼ì¸ì—ì„œ 1ë‹¨ê³„ í’ˆì§ˆ ì €í•˜ëŠ” ìµœì¢… ì„±ëŠ¥ê¹Œì§€ ì—°ì‡„ì  ì•…ì˜í–¥
> 4. ë°ì´í„°ì…‹ íŠ¹ì„±(í‚¤ì›Œë“œ vs ì˜ë¯¸ ê¸°ë°˜)ì„ ë°˜ì˜í•œ ê°€ì¤‘ì¹˜ ì„¤ì • í•„ìˆ˜

---

## ğŸ¯ í–¥í›„ ê°œì„  ì „ëµ (Phase 3+)

### Phase 3: ë‹¤ì¤‘ ì„ë² ë”© ë„ì… (ì¤€ë¹„ ì¤‘)

**ëª©í‘œ:**
- MAP 0.90+ ë‹¬ì„± (í˜„ì¬ 0.8470ì—ì„œ +5.5%p ì´ìƒ)

**êµ¬í˜„ ë°©ë²•:**
- ì¶”ê°€ í•œêµ­ì–´ ì„ë² ë”© ëª¨ë¸ ë„ì…
  - jhgan/ko-sroberta-multitask
  - ê¸°ì¡´ SBERTì™€ ìƒí˜¸ ë³´ì™„ì  ì‹ í˜¸ ì œê³µ
- Dense Retrieval ë‹¤ì–‘í™”
  - ë‹¨ì¼ ì„ë² ë”© â†’ ì•™ìƒë¸” ì„ë² ë”©
  - ì˜ë¯¸ ê³µê°„ ë‹¤ê°í™”

**ì˜ˆìƒ ê°œì„ :**
- +0.02~0.05 (MAP 0.87~0.90)

**ê·¼ê±°:**
- í˜„ì¬ ì‹œìŠ¤í…œì€ ë‹¨ì¼ ì„ë² ë”© ëª¨ë¸ì— ì˜ì¡´
- ë‹¤ì–‘í•œ ì„ë² ë”© ëª¨ë¸ ì¡°í•©ìœ¼ë¡œ ê²€ìƒ‰ ì»¤ë²„ë¦¬ì§€ í™•ëŒ€ ê°€ëŠ¥
- ì•™ìƒë¸” íš¨ê³¼ë¡œ ê°œë³„ ëª¨ë¸ì˜ ì•½ì  ë³´ì™„

---

### Phase 4: Reranker íŒŒë¼ë¯¸í„° ìµœì í™”

**ëª©í‘œ:**
- Reranker íš¨ìœ¨ ê·¹ëŒ€í™”
- Cross-Encoder ì„±ëŠ¥ í•œê³„ í…ŒìŠ¤íŠ¸

**êµ¬í˜„ ë°©ë²•:**
- Top-K ì¡°ì •
  - í˜„ì¬: Top-5
  - í…ŒìŠ¤íŠ¸: Top-7, Top-10
  - ë” ë§ì€ í›„ë³´ í‰ê°€ë¡œ ì •í™•ë„ ê°œì„ 
- Batch Size ìµœì í™”
  - í˜„ì¬: 32
  - í…ŒìŠ¤íŠ¸: 16, 64
  - ì¬ì •ë ¬ ì •ë°€ë„ í–¥ìƒ

**ì˜ˆìƒ ê°œì„ :**
- +0.01~0.03 (MAP 0.86~0.88)

**ê·¼ê±°:**
- Rerankerê°€ ì „ì²´ ê°œì„ ì˜ 60.4% ê¸°ì—¬
- ì¶”ê°€ íŒŒë¼ë¯¸í„° ìµœì í™”ë¡œ ì”ì—¬ ì„±ëŠ¥ í™•ë³´ ê°€ëŠ¥

---

### Phase 5: ì¿¼ë¦¬ ì „ì²˜ë¦¬ ê°œì„ 

**ëª©í‘œ:**
- HyDE ìƒì„± í’ˆì§ˆ í–¥ìƒ
- ì¿¼ë¦¬ ë…¸ì´ì¦ˆ ê°ì†Œ

**êµ¬í˜„ ë°©ë²•:**
- HyDE ìƒì„± ê¸¸ì´ ìµœì í™”
  - í˜„ì¬: ììœ  ìƒì„±
  - í…ŒìŠ¤íŠ¸: ê¸¸ì´ ì œí•œ (50~200ì)
- í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§
  - ë” ì •í™•í•œ ê°€ì„¤ ë‹µë³€ ìœ ë„
  - ë„ë©”ì¸ë³„ ë§ì¶¤ í”„ë¡¬í”„íŠ¸
- ë…¸ì´ì¦ˆ ê°ì†Œ
  - ë¶ˆí•„ìš”í•œ ì •ë³´ í•„í„°ë§
  - í•µì‹¬ í‚¤ì›Œë“œ ê°•í™”

**ì˜ˆìƒ ê°œì„ :**
- +0.01~0.02 (MAP 0.86~0.87)

**ê·¼ê±°:**
- HyDEê°€ 12.4% ê¸°ì—¬
- í”„ë¡¬í”„íŠ¸ ìµœì í™”ë¡œ ì¿¼ë¦¬ í™•ì¥ í’ˆì§ˆ ê°œì„  ê°€ëŠ¥

---

### ìµœì¢… ëª©í‘œ ë¡œë“œë§µ

```
í˜„ì¬ ìƒíƒœ (ì™„ë£Œ):
â”œâ”€ BASELINE: 0.6629
â”œâ”€ Phase 1 (Reranker): 0.7742 (+16.8%)
â”œâ”€ Phase 2 (HyDE): 0.7970 (+2.9%)
â””â”€ Parameter [6,3,1]: 0.8470 (+6.3%) â­

ë‹¤ìŒ ë‹¨ê³„ (ì¤€ë¹„):
â”œâ”€ Phase 3 (ë‹¤ì¤‘ ì„ë² ë”©): +0.02~0.05 â†’ MAP 0.87~0.90
â”œâ”€ Phase 4 (Reranker ìµœì í™”): +0.01~0.03 â†’ MAP 0.88~0.91
â””â”€ Phase 5 (ì¿¼ë¦¬ ê°œì„ ): +0.01~0.02 â†’ MAP 0.89~0.92

ìµœì¢… ëª©í‘œ: MAP 0.95
ì˜ˆìƒ ë‹¬ì„± ì‹œì : Phase 3-5 ì™„ë£Œ í›„
```

---

## ğŸ“Š ìµœì¢… í†µê³„ ë° ì„±ê³¼ ì§€í‘œ

### ì‹¤í—˜ í†µê³„
- **ì „ì²´ ì‹¤í—˜ íšŸìˆ˜**: 8íšŒ
- **ì„±ê³µí•œ ì‹¤í—˜**: 5íšŒ (62.5%)
- **ì‹¤íŒ¨í•œ ì‹¤í—˜**: 3íšŒ (37.5%)
- **ìµœê³  ì„±ëŠ¥ ë‹¬ì„±**: MAP 0.8470 (CURRENT, [6,3,1])

### ì„±ëŠ¥ ì§€í‘œ
- **ì ˆëŒ€ ê°œì„ **: +0.1841 (0.6629 â†’ 0.8470)
- **ìƒëŒ€ ê°œì„ **: +27.8%
- **ëª©í‘œ ëŒ€ë¹„ ë‹¬ì„±ë¥ **: 89.2% (0.8470 / 0.95)
- **ë‚¨ì€ ëª©í‘œ**: +0.1030 (ì ˆëŒ€ê°’) / +10.8% (ìƒëŒ€ê°’)

### ì»´í¬ë„ŒíŠ¸ë³„ ê¸°ì—¬ë„
1. **Reranker (BGE-v2-m3)**: 60.4% (+0.1113)
2. **Parameter Tuning [6,3,1]**: 27.1% (+0.0500)
3. **HyDE (Gemini 2.5 Flash)**: 12.4% (+0.0228)
4. **BASELINE ê°œì„ **: - (+0.0174)

### í‰ê°€ ë°ì´í„°ì…‹
- **ì´ ì§ˆë¬¸ ìˆ˜**: 220ê°œ
- **ì •ë‹µë¥  (MAP 0.8470 ê¸°ì¤€)**: ì•½ 85%
- **ì •ë‹µ ìˆ˜**: ì•½ 187ê°œ

---

## ğŸ† í•µì‹¬ ì„±ê³¼ ë° ê²°ë¡ 

### ì£¼ìš” ì„±ê³¼

1. âœ… **Reranker ë„ì… ì„±ê³µ** (Phase 1)
   - +16.8% ì„±ëŠ¥ ê°œì„ 
   - ì „ì²´ ê¸°ì—¬ë„ 60.4%
   - Cross-Encoderì˜ íš¨ê³¼ ì…ì¦

2. âœ… **HyDE ì¿¼ë¦¬ í™•ì¥ ì ìš©** (Phase 2)
   - +2.9% ì¶”ê°€ ê°œì„ 
   - ì „ì²´ ê¸°ì—¬ë„ 12.4%
   - LLM ê¸°ë°˜ ì¿¼ë¦¬ í™•ì¥ì˜ ìœ íš¨ì„± í™•ì¸

3. âœ… **íŒŒë¼ë¯¸í„° ìµœì í™” ì™„ë£Œ** (CURRENT)
   - +6.3% ì¶”ê°€ ê°œì„ 
   - ì „ì²´ ê¸°ì—¬ë„ 27.1%
   - [6,3,1] ì „ì—­ ìµœì ê°’ ë°œê²¬ (95% í™•ì‹ ë„)

4. âœ… **2-Stage íŒŒì´í”„ë¼ì¸ í™•ë¦½**
   - Hard Voting + Reranker ì‹œë„ˆì§€
   - ê²€ìƒ‰-ì¬ì •ë ¬ì˜ íš¨ê³¼ì  ë¶„ì—…
   - ì •í™•ë„ì™€ íš¨ìœ¨ì„± ê· í˜•

5. âœ… **ì‹¤íŒ¨ ì‚¬ë¡€ ë¶„ì„ ë° í•™ìŠµ**
   - 3íšŒ ì‹¤íŒ¨ ì‹¤í—˜ì„ í†µí•œ í•œê³„ íŒŒì•…
   - ëª…í™•í•œ ê°œì„  ë°©í–¥ ë„ì¶œ
   - ê³¼ì í•©, íŒŒì´í”„ë¼ì¸ í’ˆì§ˆ, ë°ì´í„°ì…‹ íŠ¹ì„± ì´í•´

---

### í•µì‹¬ ë°œê²¬ì‚¬í•­

**1. Rerankerì˜ ì¤‘ìš”ì„±**
- ì „ì²´ ì„±ëŠ¥ ê°œì„ ì˜ 60% ì´ìƒ ë‹´ë‹¹
- Cross-Encoderê°€ Bi-Encoderë³´ë‹¤ ì •ë°€í•œ ì¬ì •ë ¬
- ì›ë³¸ ì¿¼ë¦¬ ì‚¬ìš©ì´ HyDE ì¿¼ë¦¬ë³´ë‹¤ íš¨ê³¼ì 

**2. HyDEì˜ ì „ëµì  ê°€ì¹˜**
- Sparse + Dense ë™ì‹œ ì ìš© ì‹œ ìµœëŒ€ íš¨ê³¼
- ë¶€ë¶„ ì ìš©ì€ ì˜¤íˆë ¤ ì„±ëŠ¥ ì €í•˜
- Reranker ë‹¨ê³„ì—ì„œëŠ” ì‚¬ìš© ë¶ˆê°€

**3. íŒŒë¼ë¯¸í„° ìµœì í™”ì˜ í•œê³„**
- ì „ì—­ ìµœì ê°’ ì¡´ì¬ ([6,3,1])
- ê³¼ë„í•œ ì¡°ì •ì€ ê³¼ì í•© ìœ ë°œ
- Rank ì‹ ë¢°ë„ ê³¡ì„  ê³ ë ¤ í•„ìˆ˜

**4. íŒŒì´í”„ë¼ì¸ ì„¤ê³„ ì›ì¹™**
- ë‹¨ê³„ë³„ í’ˆì§ˆì´ ìµœì¢… ì„±ëŠ¥ì— ì—°ì‡„ì  ì˜í–¥
- 1ë‹¨ê³„ ì•…í™” â†’ 2ë‹¨ê³„ í’ˆì§ˆ ì €í•˜
- ì¼ê´€ëœ ì¿¼ë¦¬ ì „ëµ í•„ìš”

---

### ì‹œì‚¬ì  ë° ì œì–¸

**í•™ìˆ ì  ê¸°ì—¬:**
1. í•œêµ­ì–´ RAG ì‹œìŠ¤í…œì—ì„œ Cross-Encoder Rerankerì˜ íš¨ê³¼ ê²€ì¦
2. HyDE ê¸°ë²•ì˜ í•œêµ­ì–´ ì ìš© ê°€ëŠ¥ì„± ì…ì¦
3. Hybrid Searchì—ì„œ ìµœì  Hard Voting ê°€ì¤‘ì¹˜ ë°œê²¬
4. ë‹¤ë‹¨ê³„ ê²€ìƒ‰ íŒŒì´í”„ë¼ì¸ì˜ ì„¤ê³„ ì›ì¹™ ì œì‹œ

**ì‹¤ë¬´ì  í™œìš©:**
1. í•œêµ­ì–´ ì •ë³´ ê²€ìƒ‰ ì‹œìŠ¤í…œ êµ¬ì¶• ì‹œ ì°¸ê³  ì•„í‚¤í…ì²˜ ì œê³µ
2. ê²€ìƒ‰ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ë‹¨ê³„ì  ì ‘ê·¼ë²• ì œì‹œ
3. ì‹¤íŒ¨ ì‚¬ë¡€ë¥¼ í†µí•œ í•¨ì •(Pitfall) íšŒí”¼ ê°€ì´ë“œ
4. ì„±ëŠ¥ ê°œì„ ì˜ ìš°ì„ ìˆœìœ„ ëª…í™•í™” (Reranker > Parameter > HyDE)

**í–¥í›„ ì—°êµ¬ ë°©í–¥:**
1. ë‹¤ì¤‘ ì„ë² ë”© ì•™ìƒë¸” ê¸°ë²• ì—°êµ¬ (Phase 3)
2. Reranker íŒŒë¼ë¯¸í„°ì˜ ì‹¬ì¸µ ë¶„ì„ (Phase 4)
3. ì¿¼ë¦¬ í™•ì¥ ê¸°ë²•ì˜ ê³ ë„í™” (Phase 5)
4. ë„ë©”ì¸ íŠ¹í™” ìµœì í™” ì „ëµ ê°œë°œ

---

## ğŸ“š ì°¸ê³ ìë£Œ

### ì‚¬ìš© ê¸°ìˆ  ë° ëª¨ë¸
- **Elasticsearch**: https://www.elastic.co/
- **Sentence-Transformers**: https://www.sbert.net/
- **KR-SBERT**: https://huggingface.co/snunlp/KR-SBERT-V40K-klueNLI-augSTS
- **BGE Reranker**: https://huggingface.co/BAAI/bge-reranker-v2-m3
- **Google Gemini**: https://ai.google.dev/

### ê´€ë ¨ ë…¼ë¬¸
- HyDE: Precise Zero-Shot Dense Retrieval without Relevance Labels
- BGE: C-Pack: Packaged Resources for Better Pre-training and Better-Performing Language Models
- Cross-Encoder for Semantic Search

---

## ğŸ“ ë²„ì „ ì´ë ¥

| ë²„ì „ | ì¼ì | ë‚´ìš© | ì‘ì„±ì |
|------|------|------|--------|
| v1.0 | 2025-12-20 | ì´ˆê¸° ë³´ê³ ì„œ ì‘ì„± | IR Optimization Team |
| - | - | ì „ì²´ ì‹¤í—˜ ê³¼ì • ì¢…í•© | - |
| - | - | 8ê°œ Phase ìƒì„¸ ë¶„ì„ | - |
| - | - | ì‹¤íŒ¨ ì‚¬ë¡€ êµí›ˆ ì •ë¦¬ | - |
| - | - | í–¥í›„ ì „ëµ ìˆ˜ë¦½ | - |

---

## ë¶€ë¡: ì‹¤í—˜ ë°ì´í„° ì›ë³¸

### A. BASELINE(1) ìƒì„¸ ë¡œê·¸
- MAP: 0.6629
- MRR: 0.6712
- ì‹¤í–‰ ì¼ì: 2025-12-XX
- í‰ê°€ ì§ˆë¬¸ ìˆ˜: 220

### B. Phase 1 (Reranker) ìƒì„¸ ë¡œê·¸
- MAP: 0.7742 (+16.8%)
- MRR: 0.7773
- Reranker ëª¨ë¸: BAAI/bge-reranker-v2-m3
- Batch Size: 32

### C. Phase 2 (HyDE) ìƒì„¸ ë¡œê·¸
- MAP: 0.7970 (+2.9%)
- MRR: 0.8015
- LLM API: Gemini 2.5 Flash
- HyDE ì ìš© ë²”ìœ„: Sparse + Dense

### D. CURRENT [6,3,1] ìƒì„¸ ë¡œê·¸
- MAP: 0.8470 (+6.3%)
- MRR: 0.8500
- Hard Voting: [6, 3, 1]
- ì „ì—­ ìµœì ê°’ í™•ì¸

### E. Submission 8 [7,4,2] ìƒì„¸ ë¡œê·¸
- MAP: 0.8182 (-3.4%)
- MRR: 0.8212
- Hard Voting: [7, 4, 2]
- ì‹¤íŒ¨ ì›ì¸: Overfitting

---

**ë³´ê³ ì„œ ì¢…ë£Œ**

---

**ì‘ì„±ì¼**: 2025ë…„ 12ì›” 20ì¼  
**ìµœì¢… ì—…ë°ì´íŠ¸**: Phase 3 ì¤€ë¹„ ë‹¨ê³„  
**í˜„ì¬ ìƒíƒœ**: [6,3,1] ìµœì¢… í™•ì •, ë‹¤ì¤‘ ì„ë² ë”© ì „ëµ ëŒ€ê¸°  
**ë¬¸ì„œ ë²„ì „**: v1.0  
**ì‘ì„± íŒ€**: IR System Optimization Team
